# 2021年总结

2021年开始从事了React-Native的工作。

主要使用语言是JavaScript，也是第一次实战接触React-Native混合开发（之前也写过2-3个月Flutter不过时间太短了，就不提了）。


React-Native相对于Objective-C、Swift原生开发来说，确实在搭建页面代码实现上，较为迅速（不与SwiftUI对比）

尽管React-Native底层是用原生组件来进行开发的，仍然会感觉到在渲染方面不如原生体验来得好。

React-Native是使用JSC+原生组件的方式进行渲染

## 启动流程

1.Native初始化
ReactNativeHost -> Activity -> ReactRootView -> startReactApplication -> createReactContextInBackground(期间有模块/UI组件信息收集、JSC初始化工作等)

2.后台异步加载，执行JSBundle

3.Native端执行setupReactContext初始化上下文，调用JS端AppRegister.runApplication(key, params)，key为模块/组件名称，参数包含rootTag，initialProps

4.JS端找到注册的对应启动组件，执行renderApplication渲染整个应用

![](https://upload-images.jianshu.io/upload_images/2979416-bdfcaea0dd9093d5.png)

renderApplication函数中会执行

```
ReactNative.render(
  <AppContainer>
    <RootComponent
      {...initialProps}
      rootTag={rootTag}
    />
  </AppContainer>,
  rootTag
);
```
